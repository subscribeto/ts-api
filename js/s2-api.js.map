{"version":3,"sources":["../ts/s2-api.ts"],"names":["S2API","[object Object]","implementation","apiRequestMethod","requestMethod","endpoint","body","token","undefined","Error","content","JSON","parse","e","BASE_URL","exports"],"mappings":"2WAkBA,MAAaA,MAMFC,gCAAgCC,GAEzCF,MAAMG,iBAAmBD,EAInBD,mBACNG,EACAC,EACAC,EACAC,mDAEA,QAA+BC,IAA3BR,MAAMG,iBAAgC,OAAOH,MAAMG,iBAAiBC,EAAeC,EAAUC,EAAMC,GAGtG,MAAM,IAAIE,MAAM,wRAcXR,cAAcS,GAEpB,IAAMC,KAAKC,MAAMF,GACjB,MAAOG,GAAK,OAAO,EAEnB,OAAO,GAtCeb,MAAAc,SAAmB,uBAF3CC,QAAAf,MAAAA","file":"s2-api.js","sourcesContent":["/*\n *\tCreated by Trevor Sears <trevorsears.main@gmail.com>.\n *\t4:18 PM -- July 11th, 2019.\n *\tProject: @subscribeto/ts-api\n */\n\nimport { S2APIResponse } from \"./s2-api-response\";\n\ntype HTTPMethod = \"GET\" | \"POST\" | \"PUT\" | \"DELETE\";\ntype APIRequestMethod = <R>(requestMethod: HTTPMethod, endpoint: string, body?: any, token?: string) => Promise<S2APIResponse<R>>;\n\n/**\n * Global variables and methods pertaining to the sub.scribe.to API.\n *\n * @author Trevor Sears <trevorsears.main@gmail.com>\n * @version v0.1.0\n * @since v0.1.0\n */\nexport class S2API {\n\t\n\tpublic static readonly BASE_URL: string = \"http://api.scribe.to\";\n\t\n\tprivate static apiRequestMethod: APIRequestMethod | undefined;\n\t\n\tprotected static setNetworkImplementation(implementation: APIRequestMethod): void {\n\t\t\n\t\tS2API.apiRequestMethod = implementation;\n\t\t\n\t}\n\t\n\tpublic static async makeRequest<R>(\n\t\trequestMethod: HTTPMethod,\n\t\tendpoint: string,\n\t\tbody?: any,\n\t\ttoken?: string): Promise<S2APIResponse<R>> {\n\t\t\n\t\tif (S2API.apiRequestMethod !== undefined) return S2API.apiRequestMethod(requestMethod, endpoint, body, token);\n\t\telse {\n\t\t\t\n\t\t\tthrow new Error(\"ERR | Attempted to use the sub.scribe.to API without providing an implementation for \" +\n\t\t\t\t\"your environment. You're probably forgetting to use either @subscribeto/ts-api-browser or \" +\n\t\t\t\t\"@subscribeto/ts-api-node. Check the documentation for your respective platform's package for a fix.\");\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\t/**\n\t * Returns true if the provided content is valid JSON.\n\t *\n\t * @param content Content to test for validity as JSON.\n\t * @return true if the provided content is valid JSON.\n\t */\n\tpublic static isJSON(content: any): boolean {\n\t\n\t\ttry { JSON.parse(content); }\n\t\tcatch (e) { return false; }\n\t\t\n\t\treturn true;\n\t\n\t}\n\t\n}"]}