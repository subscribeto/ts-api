{"version":3,"sources":["../ts/s2-api-response.ts"],"names":["s2_api_1","require","S2APIResponse","[object Object]","response","lazyInitialization","this","isVerified","rawXHR","verify","Error","S2API","isJSON","JSON","parse","status","exports"],"mappings":"oEAMA,MAAAA,SAAAC,QAAA,YASA,MAAaC,cAMZC,YAAmBC,EAA0BC,GAA8B,GAFnEC,KAAAC,YAAsB,EAI7BD,KAAKE,OAASJ,EAETC,GAAoBC,KAAKG,SAIxBN,SAEN,QAAIG,KAAKC,aAITD,KAAKC,YAAa,GAEX,GAIDJ,UAEN,IAAKG,KAAKC,aAEJD,KAAKG,SAET,MAAM,IAAIC,MAAM,iEAMlB,OAAIV,SAAAW,MAAMC,OAAON,KAAKE,OAAOJ,UAAkBS,KAAKC,MAAMR,KAAKE,OAAOJ,UAC1DE,KAAKE,OAAOJ,SAIlBD,gBAEN,OAAOG,KAAKE,OAAOO,OAIbZ,YAEN,OAAOG,KAAKE,QAnDdQ,QAAAd,cAAAA","file":"s2-api-response.js","sourcesContent":["/*\n *\tCreated by Trevor Sears <trevorsears.main@gmail.com>.\n *\t4:20 PM -- July 11th, 2019.\n *\tProject: @subscribeto/ts-api\n */\n\nimport { S2API } from \"./s2-api\";\n\n/**\n * A standardized response object received from any and every call to the API.\n *\n * @author Trevor Sears <trevorsears.main@gmail.com>\n * @version v0.1.0\n * @since v0.1.0\n */\nexport class S2APIResponse<R> {\n\t\n\tprivate readonly rawXHR: XMLHttpRequest;\n\t\n\tprivate isVerified: boolean = false;\n\t\n\tpublic constructor(response: XMLHttpRequest, lazyInitialization: boolean = false) {\n\t\n\t\tthis.rawXHR = response;\n\t\t\n\t\tif (!lazyInitialization) this.verify();\n\t\n\t}\n\t\n\tpublic verify(): boolean {\n\t\t\n\t\tif (this.isVerified) return true;\n\t\t\n\t\t// TODO [7/11/19 @ 4:32 PM] - Finish the 'verify' method.\n\t\t\n\t\tthis.isVerified = true;\n\t\t\n\t\treturn true;\n\t\t\n\t}\n\t\n\tpublic getBody(): R {\n\t\t\n\t\tif (!this.isVerified) {\n\t\t\t\n\t\t\tif (!this.verify()) {\n\t\t\t\t\n\t\t\t\tthrow new Error(\"ERR | The response body did not conform to the expected type.\");\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tif (S2API.isJSON(this.rawXHR.response)) return JSON.parse(this.rawXHR.response) as unknown as R;\n\t\telse return this.rawXHR.response as unknown as R;\n\t\t\n\t}\n\t\n\tpublic getStatusCode(): number {\n\t\t\n\t\treturn this.rawXHR.status;\n\t\t\n\t}\n\t\n\tpublic getRawXHR(): XMLHttpRequest {\n\t\t\n\t\treturn this.rawXHR;\n\t\t\n\t}\n\t\n}"]}